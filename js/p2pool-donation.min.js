function P2PoolDonationButton(t){if(null==t.url||null==t.id)throw new Error("url and id cannot be null");t.coin=t.coin||"BTC",t.min=parseFloat(t.min||.001),this.parameters=t,this.id="#"+t.id,this.uid=Math.floor(2e9*Math.random()),this.create=function(){if(!($(this.id+" #p2pdb-c-"+this.uid+".P2PoolDonationButton-container").length>0)){var t=function(t){var o=$(t.target),n=".P2PoolDonationButton-balloon-shadow",a="P2PoolDonationButton-show";o.is(n)?o.removeClass(a):null!=t.target.id&&t.target.id.startsWith("p2pdb-x-")&&$("#p2pdb-c-"+t.target.id.substr(8)+" "+n).removeClass(a)},o=document.createElement("span"),n=document.createElement("a"),a=document.createElement("div"),e=document.createElement("div"),i=document.createElement("style");i.setAttribute("type","text/css"),$(i).append(this.id+" .P2PoolDonationButton-container {display:inline-block;font-size:11pt;text-align:left;}"),$(i).append(this.id+' .P2PoolDonationButton-container * {font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;text-decoration:none;line-height:normal;}'),$(i).append(this.id+" .P2PoolDonationButton-border {border:1px solid grey;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon-shadow {display:none;position:fixed;z-index:1000;top:0px;left:0px;width:100%;height:100%;margin:0px;justify-content:center;align-items:center;background:rgba(0,0,0,0.8);}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon-shadow.P2PoolDonationButton-show {display:flex;}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon {position:relative;width:380pt;height:60%;padding:20px;color:black;background:white;box-shadow:5px 5px 20px #050505;-webkit-box-shadow:5px 5px 20px #050505;-moz-box-shadow:5px 5px 20px #050505;overflow:auto;}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-button {display:block;margin:4px;padding:4px 6px 4px 6px;color:white;background:#f7931a;text-decoration:none;font-weight:bold;box-shadow:2px 2px 6px grey;-webkit-box-shadow:2px 2px 6px grey;-moz-box-shadow:2px 2px 6px grey;}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-button:hover, "+this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-button:focus {color:white;background:#f75c1a;text-decoration:none;}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon .P2PoolDonationButton-close {font-size:16pt;font-weight:bold;position:absolute;top:8pt;right:8pt;}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon h3 {font-size:14pt;font-weight:bold;margin:1em 0em 1em 0em;color:black;background:transparent;}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon p {margin:1em 0em 1em 0em;color:black;background:transparent;}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon a {color:#1a7ef7;background:transparent;border:none;} "+this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon a:hover, "+this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon a:focus {color:#072cbe;background:transparent;text-decoration:none;border:none;}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon img {border:none;}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon label {display:block;font-size:9pt;font-weight:bold;color:black;background:transparent;}"),$(i).append(this.id+' .P2PoolDonationButton-container .P2PoolDonationButton-balloon input {display:block;width:60%;margin:auto;padding:4px;color:black;background:white;text-align:center;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12pt;border:2px solid black;}'),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon table {border-collapse:collapse;width:100%;text-align:left;border:none;color:black;background:transparent;}"),$(i).append(this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon table td {text-align:left;border:none;} "+this.id+" .P2PoolDonationButton-container .P2PoolDonationButton-balloon table th {font-weight:bold;text-align:left;border:none;}"),o.setAttribute("id","p2pdb-c-"+this.uid),o.setAttribute("class","P2PoolDonationButton-container"),o.setAttribute("data-burl",this.parameters.url),o.setAttribute("data-coin",this.parameters.coin),o.setAttribute("data-min",this.parameters.min),n.setAttribute("href","javascript:void(0)"),n.setAttribute("id","p2pdb-b-"+this.uid),n.setAttribute("class","P2PoolDonationButton-button P2PoolDonationButton-border"),$(n).append("Donate to <em>P2Pool</em>"),$(n).click(function(){null!=this.id&&this.id.startsWith("p2pdb-b-")&&($("#p2pdb-c-"+this.id.substr(8)+" .P2PoolDonationButton-balloon-shadow").addClass("P2PoolDonationButton-show"),$("#p2pdb-a-"+this.id.substr(8)).focus())}),a.setAttribute("class","P2PoolDonationButton-balloon-shadow"),e.setAttribute("class","P2PoolDonationButton-balloon P2PoolDonationButton-border"),$(e).append($('<a href="javascript:void(0)" id="p2pdb-x-'+this.uid+'" class="P2PoolDonationButton-close">&times;</a>').click(t)),$(e).append("<h3>Donate to <em>P2Pool</em></h3>"),$(e).append('<label for="p2pdb-a-'+this.uid+'">Amount in '+this.parameters.coin+'</label><input type="text" id="p2pdb-a-'+this.uid+'" class="P2PoolDonationButton-border" />');var r=$('<p style="text-align:center;font-weight:bold;"></p>'),l='<a href="javascript:void(0)"></a>',d=function(){var t=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\//g,"&#x2F;")},o=function(t,o){return"bitcoin:"+t+"?amount="+o+"&label=P2Pool%20donation"},n=function(n,a){for(var e in a)n.append('<tr><td><a href="'+t(o(e,a[e]))+'">'+e+"<a/></td><td>"+a[e]+"</td></tr>")};if(this.id.startsWith("p2pdb-ds-")||this.id.startsWith("p2pdb-dm-")){var a=this.id.substr(9),e=this.id.startsWith("p2pdb-ds-"),i=$("#p2pdb-a-"+a).val().trim(),r=$("#p2pdb-c-"+a).attr("data-coin"),l=$("#p2pdb-c-"+a).attr("data-min"),d=$("#p2pdb-c-"+a).attr("data-burl")+"patron_sendmany/",p=$("#p2pdb-c-"+a+" .P2PoolDonationButton-result").html(""),s=$(document.createElement("table"));if(0==i.length)return;try{if(isNaN(l=parseFloat(l)))return}catch(c){return}try{i=parseFloat(i)}catch(c){return void alert("The amount has to be a number.")}if(isNaN(i)||l>i)return void alert("The amount has to be at least "+l+" "+r+".");s.append("<tr><th>Address</th><th>Amount/"+r+"</th></tr>"),p.append(s);var u=e?d+i+"/"+i:d+i+"/"+l;$.getJSON(u,function(a,i,r){if("success"==i){if(e)for(var l in a)s.before('<p style="text-align:center;"><img alt="QR code" title="'+l+'" src="https://api.qrserver.com/v1/create-qr-code/?size=250x250&amp;data='+t(encodeURIComponent(o(l,a[l])))+'" /></p>');n(s,a)}})}};r.append($(l).text("Donate single").attr("id","p2pdb-ds-"+this.uid).click(d)),r.append(" or "),r.append($(l).text("Donate multiple").attr("id","p2pdb-dm-"+this.uid).click(d)),$(e).append(r),$(e).append('<div class="P2PoolDonationButton-result"></div>'),$(o).append(n),$(o).append(a),$(a).append(e),($("head").length>0?$("head"):$(o)).append(i),$(this.id).html("").append(o),$("html").click(t)}}}String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},String.prototype.startsWith=String.prototype.startsWith||function(t){return 0===this.indexOf(t)};